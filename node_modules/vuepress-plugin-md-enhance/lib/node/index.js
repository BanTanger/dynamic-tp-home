import{align as Me}from"@mdit/plugin-align";import{attrs as _e}from"@mdit/plugin-attrs";import{figure as Te}from"@mdit/plugin-figure";import{footnote as Ne}from"@mdit/plugin-footnote";import{imgLazyload as Ae}from"@mdit/plugin-img-lazyload";import{imgMark as Fe}from"@mdit/plugin-img-mark";import{imgSize as Le,obsidianImageSize as Ue}from"@mdit/plugin-img-size";import{include as ze}from"@mdit/plugin-include";import{katex as Ge}from"@mdit/plugin-katex";import{mark as Je}from"@mdit/plugin-mark";import{createMathjaxInstance as Ve,mathjax as We}from"@mdit/plugin-mathjax";import{stylize as Be}from"@mdit/plugin-stylize";import{sub as qe}from"@mdit/plugin-sub";import{sup as He}from"@mdit/plugin-sup";import{tasklist as Ye}from"@mdit/plugin-tasklist";import{ensureLeadingSlash as H,resolveLocalePath as Y,isPlainObject as v,ensureEndingSlash as Ke,isArray as Qe}from"@vuepress/shared";import{hash as Xe,logger as Ze,getDirname as et,path as j,colors as I,fs as K}from"@vuepress/utils";import{useSassPalettePlugin as tt}from"vuepress-plugin-sass-palette";import{utoa as w,entries as A,keys as nt,endsWith as ot,deepAssign as U,fromEntries as Q,isAbsoluteUrl as X,Logger as rt,checkVersion as at,getLocales as st,detectPackageManager as it,getBundlerName as Z,addViteConfig as lt,addViteSsrNoExternal as pt,addCustomElement as z,MATHML_TAGS as ee,addViteOptimizeDepsExclude as F,addViteSsrExternal as E,addViteOptimizeDepsInclude as te,addChainWebpack as ct}from"vuepress-shared/node";import{container as S}from"@mdit/plugin-container";import{tab as ne}from"@mdit/plugin-tab";import{uml as oe}from"@mdit/plugin-uml";import{createRequire as mt}from"node:module";const re=n=>{S(n,{name:"chart",openRender:(e,r)=>{const t=e[r].info.trimStart().slice(5).trim(),o=`chart-${r}`;let a="{}",s="";for(let i=r;i<e.length;i++){const{type:l,content:g,info:d}=e[i];if(l==="container_chart_close")break;g&&(l==="fence"&&(d==="json"?(a=w(g),s="json"):(d==="js"||d==="javascript")&&(a=w(g),s="js")),e[i].type="chart_empty",e[i].hidden=!0)}return`<ChartJS id="${o}" config="${a}" ${t?`title="${encodeURIComponent(t)}" `:""}type="${s}">`},closeRender:()=>"</ChartJS>"})},ae={useBabel:!1,jsLib:[],cssLib:[],codepenLayout:"left",codepenEditors:"101",babel:"https://unpkg.com/@babel/standalone/babel.min.js",vue:"https://unpkg.com/vue/dist/vue.global.prod.js",react:"https://unpkg.com/react/umd/react.production.min.js",reactDOM:"https://unpkg.com/react-dom/umd/react-dom.production.min.js"},G=n=>e=>S(e,{name:n,openRender:(r,t)=>{var o;const a=r[t].info.trimStart().slice(n.length).trim();let s="";const i={};for(let l=t;l<r.length;l++){const{type:g,content:d,info:c}=r[l],b=c?((o=e.utils.unescapeAll(c).trim().match(/^([^ :[{]+)/))==null?void 0:o[1])||"text":"";if(g===`container_${n}_close`)break;d&&g==="fence"&&(b==="json"?s=w(d):i[b]=d)}return`
<CodeDemo id="code-demo-${t}" type="${n.split("-")[0]}"${a?` title="${encodeURIComponent(a)}"`:""}${s?` config="${s}"`:""} code="${w(JSON.stringify(i))}">
`},closeRender:()=>"</CodeDemo>"}),se=G("normal-demo"),ie=G("vue-demo"),le=G("react-demo"),pe=n=>{ne(n,{name:"code-tabs",tabsOpenRenderer:({active:e,data:r},t,o)=>{const{meta:a}=t[o],s=r.map(({title:i,id:l})=>({title:i,...l?{id:l}:{}}));return`<CodeTabs id="${o}" :data='${JSON.stringify(s).replace(/'/g,"&#39")}'${e!==-1?` :active="${e}"`:""}${a.id?` tab-id="${a.id}"`:""}>
`},tabsCloseRenderer:()=>`</CodeTabs>
`,tabOpenRenderer:({index:e},r,t)=>{let o=!1;for(let a=t;a<r.length;a++){const{block:s,type:i}=r[a];if(s){if(i==="code-tabs_tab_close")break;if(i==="fence"&&!o){o=!0;continue}r[a].type="code_tab_empty",r[a].hidden=!0}}return`<template #tab${e}="{ title, value, isActive }">
`},tabCloseRenderer:()=>`</template>
`})},ce=(n,e)=>{const r=n[e],t=`echarts-${e}`,{content:o,info:a}=r,s=a.trim().split(":",2)[1];return`<ECharts id="${t}" config="${w(o)}"${s?` title="${encodeURIComponent(s)}"`:""}></ECharts>`},me=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...r)=>{const[t,o]=r,{info:a}=t[o];return a.split(":",2)[0]==="echarts"?ce(t,o):e(...r)},n.renderer.rules.echarts=ce,S(n,{name:"echarts",openRender:(r,t)=>{const o=r[t].info.trimStart().slice(7).trim(),a=`echarts-${t}`;let s="{}",i=!1;for(let l=t;l<r.length;l++){const{type:g,content:d,info:c}=r[l];if(g==="container_echarts_close")break;d&&(g==="fence"&&(c==="json"?s=d:(c==="js"||c==="javascript")&&(s=d,i=!0)),r[l].type="echarts_empty",r[l].hidden=!0)}return`<ECharts id="${a}" config="${w(s)}"${o?` title="${encodeURIComponent(o)}"`:""}${i?' type="js"':""}>`},closeRender:()=>"</ECharts>"})},de=(n,e)=>{const r=n[e],t=`flowchart-${e}`,{content:o,info:a}=r;return`<FlowChart id="${t}" code="${w(o)}" preset="${a.trim().split(":",2)[1]||"vue"}"></FlowChart>`},ue=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...r)=>{const[t,o]=r,{info:a}=t[o],s=a.split(":",2)[0];return s==="flow"||s==="flowchart"?de(t,o):e(...r)},n.renderer.rules.flowchart=de},fe=(n,e={})=>{["info","note","tip","warning","danger"].forEach(r=>{n.use(S,{name:r,openRender:(t,o,a,s)=>{var i;let l=t[o].info.trim().slice(r.length).trim();if(!l){const{filePathRelative:g}=s,d=H(g??""),c=Y(e,d);l=(i=e[c])==null?void 0:i[r]}return`<div class="hint-container ${r}">
<p class="hint-container-title">${l||r}</p>
`},closeRender:()=>`</div>
`})}),n.use(r=>S(r,{name:"details",openRender:(t,o,a,s)=>{var i;let l=t[o].info.trim().slice(7).trim();if(!l){const{filePathRelative:g}=s,d=H(g??""),c=Y(e,d);l=(i=e[c])==null?void 0:i.details}return`<details class="hint-container details"><summary>${l||"Details"}</summary>
`},closeRender:()=>`</details>
`}))},ge=(n,e)=>`<Mermaid id="mermaid-${e}" code="${w(n[e].content)}"></Mermaid>`,P=(n,e,r)=>`<Mermaid id="mermaid-${r}" code="${w(`${n}
${e.split(`
`).map(t=>t?`  ${t}`:"").join(`
`)}`)}"></Mermaid>`,ye=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...r)=>{const[t,o]=r,{content:a,info:s}=t[o];return s.trim()==="mermaid"?ge(...r):s.trim()==="sequence"?P("sequenceDiagram",a,o):s.trim()==="class"?P("classDiagram",a,o):s.trim()==="state"?P("stateDiagram-v2",a,o):s.trim()==="er"?P("erDiagram",a,o):s.trim()==="journey"?P("journey",a,o):s.trim()==="gantt"?P("gantt",a,o):s.trim()==="pie"?P("pie",a,o):s.trim()==="git-graph"?P("gitGraph",a,o):s.trim()==="c4c"?P("C4Context",a,o):s.trim()==="mindmap"?P("mindmap",a,o):s.trim()==="timeline"?P("timeline",a,o):e(...r)},n.renderer.rules.mermaid=ge},dt=/\r\n?|\n/g,ut=n=>n.replace(/&/gu,"&amp;").replace(/</gu,"&lt;").replace(/>/gu,"&gt;").replace(/"/gu,"&quot;").replace(/'/gu,"&#039;"),he="@",ft=["file","import","setting"],gt=n=>(e,r,t,o)=>{let a=e.bMarks[r]+e.tShift[r],s=e.eMarks[r];if(e.src[a]!==":")return!1;let i=a+1;for(;i<=s&&e.src[i]===":";)i+=1;const l=i-a;if(l<3)return!1;const g=e.src.slice(a,i),d=e.src.slice(i,s),c=d.trimStart().split(" ",2)[0],b=d.trimStart().slice(n.length).trim();if(c.trim()!==n)return!1;if(o)return!0;let u=r,h=!1;for(;u<t&&(u+=1,a=e.bMarks[u]+e.tShift[u],s=e.eMarks[u],!(a<s&&e.sCount[u]<e.blkIndent));)if(e.src[a]===":"&&e.sCount[u]-e.blkIndent<4){for(i=a+1;i<=s&&e.src[i]===":";i++);if(i-a>=l&&(i=e.skipSpaces(i),i>=s)){h=!0;break}}const m=e.parentType,f=e.lineMax;e.parentType=`${n}`,e.lineMax=u-(h?1:0);const x=e.push(`${n}_open`,"template",1);x.markup=g,x.block=!0,x.info=b,x.map=[r,u-(h?1:0)],e.md.block.tokenize(e,r+1,u-(h?1:0));const M=e.push(`${n}_close`,"template",-1);return M.markup=e.src.slice(a,i),M.block=!0,e.parentType=m,e.lineMax=f,e.line=u+(h?1:0),!0},yt=n=>(e,r,t,o)=>{let a=e.bMarks[r]+e.tShift[r],s=e.eMarks[r];const i=`${he}${n}`;if(e.src.charAt(a)!=="@")return!1;let l;for(l=0;l<i.length;l++)if(i[l]!==e.src[a+l])return!1;const g=e.src.slice(a,a+l),d=e.src.slice(a+l,s);if(o)return!0;let c=r,b=!1;for(;c<t&&(c+=1,a=e.bMarks[c]+e.tShift[c],s=e.eMarks[c],!(a<s&&e.sCount[c]<e.blkIndent));)if(e.src[a]===he&&e.sCount[c]<=e.sCount[r]){let x=!0;for(l=0;l<i.length;l++)if(i[l]!==e.src[a+l]){x=!1;break}if(x){b=!0,c-=1;break}}const u=e.parentType,h=e.lineMax;e.parentType=`${n}`,e.lineMax=c;const m=e.push(`${n}_open`,"template",1);m.block=!0,m.markup=g,m.info=d.trim(),m.map=[r,c],e.md.block.tokenize(e,r+1,c);const f=e.push(`${n}_close`,"template",-1);return f.block=!0,f.markup="",e.parentType=u,e.lineMax=h,e.line=c+(b?1:0),!0},T=(n,{name:e="playground",component:r="Playground",propsGetter:t}={name:"playground",component:"Playground",propsGetter:o=>({key:o.key,title:o.title||"",files:encodeURIComponent(JSON.stringify(o.files)),settings:encodeURIComponent(JSON.stringify(o.settings||{}))})})=>{n.block.ruler.before("fence",`${e}`,gt(e),{alt:["paragraph","reference","blockquote","list"]}),ft.forEach(o=>{n.block.ruler.__rules__.find(({name:a})=>a==="marker")||n.block.ruler.before("fence","tab",yt(o),{alt:["paragraph","reference","blockquote","list"]})}),n.renderer.rules[`${e}_open`]=(o,a)=>{const{info:s}=o[a],i={key:Xe(`playground${a}-${s}`),title:encodeURIComponent(s),settings:{},files:{}};let l=null,g=!1;for(let c=a;c<o.length;c++){const{block:b,type:u,info:h,content:m}=o[c];if(b){if(u===`${e}_close`)break;if(u===`${e}_open`)continue;if(u==="file_open"){if(!h)continue;l=h}else u==="import_open"&&(i.importMap=l=h||"import-map.json");if(u==="setting_open"&&(g=!0),u==="setting_close"&&(g=!1),u==="file_close"||u==="import_close"||u==="setting_close"||!m){o[c].type=`${e}_empty`,o[c].hidden=!0;continue}g?u==="fence"&&h==="json"&&(i.settings=JSON.parse(m.trim())):u==="fence"&&l&&(i.files[l]={ext:h,content:m}),o[c].type=`${e}_empty`,o[c].hidden=!0}}const d=t(i);return`<${r} ${A(d).map(([c,b])=>`${c}="${ut(b)}"`).join(" ")}>
`},n.renderer.rules[`${e}_close`]=()=>`</${r}>
`},ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",bt=(n,e,r)=>{if(n==null)return"";let t,o,a,s={},i={},l="",g="",d="",c=2,b=3,u=2,h=[],m=0,f=0;for(a=0;a<n.length;a+=1)if(l=n.charAt(a),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=b++,i[l]=!0),g=d+l,Object.prototype.hasOwnProperty.call(s,g))d=g;else{if(Object.prototype.hasOwnProperty.call(i,d)){if(d.charCodeAt(0)<256){for(t=0;u>t;t++)m<<=1,f==e-1?(f=0,h.push(r(m)),m=0):f++;for(o=d.charCodeAt(0),t=0;8>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1}else{for(o=1,t=0;u>t;t++)m=m<<1|o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o=0;for(o=d.charCodeAt(0),t=0;16>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1}c--,c==0&&(c=Math.pow(2,u),u++),delete i[d]}else for(o=s[d],t=0;u>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1;c--,c==0&&(c=Math.pow(2,u),u++),s[g]=b++,d=String(l)}if(d!==""){if(Object.prototype.hasOwnProperty.call(i,d)){if(d.charCodeAt(0)<256){for(t=0;u>t;t++)m<<=1,f==e-1?(f=0,h.push(r(m)),m=0):f++;for(o=d.charCodeAt(0),t=0;8>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1}else{for(o=1,t=0;u>t;t++)m=m<<1|o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o=0;for(o=d.charCodeAt(0),t=0;16>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1}c--,c==0&&(c=Math.pow(2,u),u++),delete i[d]}else for(o=s[d],t=0;u>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1;c--,c==0&&(c=Math.pow(2,u),u++)}for(o=2,t=0;u>t;t++)m=m<<1|1&o,f==e-1?(f=0,h.push(r(m)),m=0):f++,o>>=1;for(;;){if(m<<=1,f==e-1){h.push(r(m));break}f++}return h.join("")},$t=n=>bt(n,6,e=>ht.charAt(e)),vt=[{name:"help",type:"boolean"},{name:"help",type:"boolean"},{name:"watch",type:"boolean"},{name:"preserveWatchOutput",type:"boolean"},{name:"listFiles",type:"boolean"},{name:"explainFiles",type:"boolean"},{name:"listEmittedFiles",type:"boolean"},{name:"pretty",type:"boolean"},{name:"traceResolution",type:"boolean"},{name:"diagnostics",type:"boolean"},{name:"extendedDiagnostics",type:"boolean"},{name:"generateCpuProfile",type:"string"},{name:"generateTrace",type:"string"},{name:"incremental",type:"boolean"},{name:"declaration",type:"boolean"},{name:"declarationMap",type:"boolean"},{name:"emitDeclarationOnly",type:"boolean"},{name:"sourceMap",type:"boolean"},{name:"inlineSourceMap",type:"boolean"},{name:"assumeChangesOnlyAffectDirectDependencies",type:"boolean"},{name:"locale",type:"string"},{name:"all",type:"boolean"},{name:"version",type:"boolean"},{name:"init",type:"boolean"},{name:"project",type:"string"},{name:"build",type:"boolean"},{name:"showConfig",type:"boolean"},{name:"listFilesOnly",type:"boolean"},{name:"target",type:{es3:0,es5:1,es6:2,es2015:2,es2016:3,es2017:4,es2018:5,es2019:6,es2020:7,es2021:8,es2022:9,esnext:99}},{name:"module",type:{none:0,commonjs:1,amd:2,system:4,umd:3,es6:5,es2015:5,es2020:6,es2022:7,esnext:99,node16:100,nodenext:199}},{name:"lib",type:"list"},{name:"allowJs",type:"boolean"},{name:"checkJs",type:"boolean"},{name:"jsx",type:{preserve:1,"react-native":3,react:2,"react-jsx":4,"react-jsxdev":5}},{name:"outFile",type:"string"},{name:"outDir",type:"string"},{name:"rootDir",type:"string"},{name:"composite",type:"boolean"},{name:"tsBuildInfoFile",type:"string"},{name:"removeComments",type:"boolean"},{name:"noEmit",type:"boolean"},{name:"importHelpers",type:"boolean"},{name:"importsNotUsedAsValues",type:{remove:0,preserve:1,error:2}},{name:"downlevelIteration",type:"boolean"},{name:"isolatedModules",type:"boolean"},{name:"verbatimModuleSyntax",type:"boolean"},{name:"strict",type:"boolean"},{name:"noImplicitAny",type:"boolean"},{name:"strictNullChecks",type:"boolean"},{name:"strictFunctionTypes",type:"boolean"},{name:"strictBindCallApply",type:"boolean"},{name:"strictPropertyInitialization",type:"boolean"},{name:"noImplicitThis",type:"boolean"},{name:"useUnknownInCatchVariables",type:"boolean"},{name:"alwaysStrict",type:"boolean"},{name:"noUnusedLocals",type:"boolean"},{name:"noUnusedParameters",type:"boolean"},{name:"exactOptionalPropertyTypes",type:"boolean"},{name:"noImplicitReturns",type:"boolean"},{name:"noFallthroughCasesInSwitch",type:"boolean"},{name:"noUncheckedIndexedAccess",type:"boolean"},{name:"noImplicitOverride",type:"boolean"},{name:"noPropertyAccessFromIndexSignature",type:"boolean"},{name:"moduleResolution",type:{node10:2,node:2,classic:1,node16:3,nodenext:99,bundler:100}},{name:"baseUrl",type:"string"},{name:"paths",type:"object"},{name:"rootDirs",type:"list"},{name:"typeRoots",type:"list"},{name:"types",type:"list"},{name:"allowSyntheticDefaultImports",type:"boolean"},{name:"esModuleInterop",type:"boolean"},{name:"preserveSymlinks",type:"boolean"},{name:"allowUmdGlobalAccess",type:"boolean"},{name:"moduleSuffixes",type:"list"},{name:"allowImportingTsExtensions",type:"boolean"},{name:"resolvePackageJsonExports",type:"boolean"},{name:"resolvePackageJsonImports",type:"boolean"},{name:"customConditions",type:"list"},{name:"sourceRoot",type:"string"},{name:"mapRoot",type:"string"},{name:"inlineSources",type:"boolean"},{name:"experimentalDecorators",type:"boolean"},{name:"emitDecoratorMetadata",type:"boolean"},{name:"jsxFactory",type:"string"},{name:"jsxFragmentFactory",type:"string"},{name:"jsxImportSource",type:"string"},{name:"resolveJsonModule",type:"boolean"},{name:"allowArbitraryExtensions",type:"boolean"},{name:"out",type:"string"},{name:"reactNamespace",type:"string"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"charset",type:"string"},{name:"emitBOM",type:"boolean"},{name:"newLine",type:{crlf:0,lf:1}},{name:"noErrorTruncation",type:"boolean"},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"stripInternal",type:"boolean"},{name:"disableSizeLimit",type:"boolean"},{name:"disableSourceOfProjectReferenceRedirect",type:"boolean"},{name:"disableSolutionSearching",type:"boolean"},{name:"disableReferencedProjectLoad",type:"boolean"},{name:"noImplicitUseStrict",type:"boolean"},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean"},{name:"preserveConstEnums",type:"boolean"},{name:"declarationDir",type:"string"},{name:"skipLibCheck",type:"boolean"},{name:"allowUnusedLabels",type:"boolean"},{name:"allowUnreachableCode",type:"boolean"},{name:"suppressExcessPropertyErrors",type:"boolean"},{name:"suppressImplicitAnyIndexErrors",type:"boolean"},{name:"forceConsistentCasingInFileNames",type:"boolean"},{name:"maxNodeModuleJsDepth",type:"number"},{name:"noStrictGenericChecks",type:"boolean"},{name:"useDefineForClassFields",type:"boolean"},{name:"preserveValueImports",type:"boolean"},{name:"keyofStringsOnly",type:"boolean"},{name:"plugins",type:"list"},{name:"moduleDetection",type:{auto:2,legacy:1,force:3}},{name:"ignoreDeprecations",type:"string"}],be=(n,e={})=>{const r=`#code/${$t(n)}`,t=A(e).map(([o,a])=>{const s=vt.find(l=>l.name===o);if(!s||a===null||a===void 0)return"";const{type:i}=s;if(v(i)){const l=i[a];return(l==null?void 0:l.toString())||""}return`${o}=${encodeURIComponent(a)}`}).filter(o=>o.length).join("&");return`${t?`?${t}`:""}${r}`},$e=({service:n="https://www.typescriptlang.org/play",...e}={})=>({name:"playground#ts",propsGetter:({title:r="",files:t,settings:o,key:a})=>{const s=nt(t).filter(l=>ot(l,".ts"));s.length!==1&&console.error("TS playground only support 1 ts file");const i=`${n}${be(t[s[0]].content,U({},o||{},e))}`;return{key:a,title:r,link:encodeURIComponent(i)}}}),Ct=["html","js","ts","vue","jsx","tsx","json"],ve="https://sfc.vuejs.org/vue.runtime.esm-browser.js",Ce="https://sfc.vuejs.org/server-renderer.esm-browser.js",ke=(n={})=>({name:"playground#vue",propsGetter:e=>{const{title:r="",files:t,settings:o,key:a}=e,s={service:"https://sfc.vuejs.org/",dev:!1,ssr:!1,...n,...o},i=Q(A(t).filter(([,{ext:l}])=>Ct.includes(l)).map(([l,{content:g}])=>{if(l==="import-map.json"){const d=JSON.parse(g);return[l,JSON.stringify(U({imports:{vue:ve,...s.ssr?{"vue/server-renderer":Ce}:{}}},d))]}return[l,g]}));return s.ssr&&!i["import-map.json"]&&(i["import-map.json"]=JSON.stringify({imports:{vue:ve,"vue/server-renderer":Ce}},null,2)),{key:a,title:r,link:encodeURIComponent(`${s.service}#${s.dev?"__DEV__":""}${s.ssr?"__SSR__":""}${Buffer.from(JSON.stringify(i)).toString("base64")}`)}}}),we=n=>{n.use(oe,{name:"presentation",open:"slidestart",close:"slideend",render:(e,r)=>{const t=e[r],o=`presentation-${r}`,{content:a,info:s}=t;return`<Presentation id="${o}" code="${w(a)}" theme="${s.trim()||"auto"}"></Presentation>`}})},je=n=>{ne(n,{name:"tabs",tabsOpenRenderer:({active:e,data:r},t,o)=>{const{meta:a}=t[o],s=r.map(({title:i,id:l})=>({title:i,...l?{id:l}:{}}));return`<Tabs id="${o}" :data='${JSON.stringify(s).replace(/'/g,"&#39")}'${e!==-1?` :active="${e}"`:""}${a.id?` tab-id="${a.id}"`:""}>
`},tabsCloseRenderer:()=>`</Tabs>
`,tabOpenRenderer:({index:e})=>`<template #tab${e}="{ title, value, isActive }">
`,tabCloseRenderer:()=>`</template>
`})},Pe=n=>{S(n,{name:"v-pre",openRender:()=>`<div v-pre>
`,closeRender:()=>`</div>
`})},J={showCompileOutput:!1,clearConsole:!1,ssr:!1},kt=["html","js","ts","vue","jsx","tsx","json"],wt=n=>Buffer.from(JSON.stringify(Q(A(n).filter(([,{ext:e}])=>kt.includes(e)).map(([e,r])=>[e,r.content])))).toString("base64"),xe=n=>{n.use(T,{name:"vue-playground",component:"VuePlayground",propsGetter:({title:e="",key:r,files:t,settings:o})=>({title:e,key:r,settings:encodeURIComponent(JSON.stringify(o||{})),files:encodeURIComponent(wt(t))})})},Oe={"/en/":{info:"Info",note:"Note",tip:"Tips",warning:"Note",danger:"Warning",details:"Details"},"/zh/":{info:"相关信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"详情"},"/zh-tw/":{info:"相關信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"詳情"},"/de/":{info:"Information",note:"Notiz",tip:"Tips",warning:"Warnung",danger:"Gefahr",details:"Details"},"/de-at/":{info:"Information",note:"Note",tip:"Tips",warning:"Notiz",danger:"Warnung",details:"Details"},"/vi/":{info:"Thông tin",note:"Note",tip:"Tips",warning:"Lưu ý",danger:"Cẩn thận",details:"Chi tiết"},"/uk/":{info:"Інформація",note:"Note",tip:"Поради",warning:"Примітка",danger:"Увага",details:"Деталь"},"/ru/":{info:"Инфо",note:"Заметка",tip:"Совет",warning:"Примечание",danger:"Предупреждение",details:"Подробности"},"/br/":{info:"Informativo",note:"Note",tip:"Dicas",warning:"Avisos",danger:"Cuidado",details:"Detalhe"},"/pl/":{info:"Info",note:"Notatka",tip:"Porady",warning:"Notatka",danger:"Ostrzeżenie",details:"Dane"},"/sk/":{info:"Info",note:"Poznámka",tip:"Tip",warning:"Upozornenie",danger:"Pozor",details:"Podrobnosti"},"/fr/":{info:"Info",note:"Note",tip:"Conseil",warning:"Note",danger:"Avertissement",details:"Details"},"/es/":{info:"Información",note:"Nota",tip:"Consejos",warning:"Aviso",danger:"Advertencia",details:"Detalles"},"/ja/":{info:"関連情報",note:"注",tip:"ヒント",warning:"注意",danger:"警告",details:"詳細"},"/tr/":{info:"Bilgi",note:"Not",tip:"Tavsiye",warning:"Uyarı",danger:"Tehlike",details:"Detay"},"/ko/":{info:"정보",note:"노트",tip:"팁",warning:"경고",danger:"위험",details:"세부사항"},"/fi/":{info:"Tietoa",note:"Huomautus",tip:"Vinkki",warning:"Varoitus",danger:"Vaara",details:"Yksityiskohdat"},"/hu/":{info:"Információ",note:"Megjegyzés",tip:"Tipp",warning:"Figyelem",danger:"Veszély",details:"Részletek"},"/id/":{info:"Pemberitahuan",note:"Catatan",tip:"Tips",warning:"Penting",danger:"Peringatan",details:"Rincian"},"/nl/":{info:"Info",note:"Notitie",tip:"Tips",warning:"Notitie",danger:"Waarschuwing",details:"Details"}},jt=(n,e)=>{const{linkCheck:r="dev"}=e;return typeof r=="boolean"?r:r==="always"||n.env.isDev&&r==="dev"||n.env.isBuild&&r==="build"||!1},Ie=(n,e)=>{const r=n.filePathRelative||n.path,{pages:t}=e,o=n.links.filter(({raw:s})=>s.match(/.md((?:\?|#).*)?$/)),a=[...o.filter(({raw:s})=>!X(s)).filter(({relative:s})=>t.every(({filePathRelative:i})=>i!==decodeURI(s))),...o.filter(({raw:s})=>X(s)).filter(({absolute:s})=>t.every(({filePathRelative:i})=>!i||`${e.options.base}${i}`!==decodeURI(s)))].map(({raw:s})=>s);a.length&&Ze.warn(`Broken links found in ${r}: ${a.join(", ")}`)},Pt=et(import.meta.url),L="vuepress-plugin-md-enhance",D=new rt(L),$=Ke(j.resolve(Pt,"../client")),R=({options:n,deprecatedOption:e,newOption:r,msg:t="",scope:o=""})=>{if(e in n){if(D.warn(`${I.magenta(e)} is ${I.yellow("deprecated")}${o?` in ${o}`:""}, please use "${I.magenta(r)}" instead.${t?`
${t}`:""}`),r.includes(".")){const a=r.split(".");let s=n;a.forEach((i,l)=>{l!==a.length-1?(s[i]=s[i]||{},s=s[i]):s[i]=n[e]})}else n[r]=n[e];delete n[e]}},V=(n,e,r="",t="")=>{e in n&&(D.error(`"${I.magenta(e)}" is ${I.red("removed")}${t?`, please use ${I.magenta(t)} instead.`:" and no longer supported"}${r?`
${r}`:""}`),t||delete n[e])},xt=n=>{R({options:n,deprecatedOption:"codegroup",newOption:"codetabs"}),R({options:n,deprecatedOption:"lazyload",newOption:"imgLazyload"}),R({options:n,deprecatedOption:"imageLazyload",newOption:"imgLazyload"}),R({options:n,deprecatedOption:"imageMark",newOption:"imgMark"}),R({options:n,deprecatedOption:"imageSize",newOption:"imgSize"}),R({options:n,deprecatedOption:"mdImport",newOption:"include"}),R({options:n,deprecatedOption:"tex",newOption:"katex"}),R({options:n,deprecatedOption:"vpre",newOption:"vPre"}),R({options:n,deprecatedOption:"imageTitle",newOption:"figure"}),V(n,"enableAll"),V(n,"lineNumbers"),V(n,"imageFix")},Ot=n=>{n.use(S,{name:"demo",openRender:(e,r)=>{var t;console.warn("demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.");const{info:o}=e[r],a=/\[(.*)\]/u.exec(o),s=/^ demo\s*(?:\[.*?\])?\s*(.*)\s*$/u.exec(o);let i="";const l={};for(let g=r;g<e.length;g++){const{type:d,content:c,info:b}=e[g],u=b?((t=n.utils.unescapeAll(b).trim().match(/^([^ :[{]+)/))==null?void 0:t[1])||"text":"";if(d==="container_demo_close")break;c&&d==="fence"&&(u==="json"?i=w(c):l[u]=c)}return`
<CodeDemo id="code-demo-${r}" type="${(a==null?void 0:a[1])||"normal"}"${s?` title="${encodeURIComponent(s[1])}"`:""}${i?` config="${i}"`:""} code="${w(JSON.stringify(l))}">
`},closeRender:()=>"</CodeDemo>"})},It=n=>{n.use(S,{name:"code-group",openRender:(e,r,t,o)=>(D.warn(`Deprecated code-group syntax found${o.filePathRelative?`in ${o.filePathRelative}`:""}, you should use code tabs instead. See https://plugin-md-enhance.vuejs.press/guide/code-tabs.html`),`<CodeGroup>
`),closeRender:()=>`</CodeGroup>
`}),n.use(S,{name:"code-group-item",openRender:(e,r)=>{const{info:t}=e[r],o=t.split(":").pop()==="active";return`<CodeGroupItem title="${o?t.replace(/:active$/,""):t}"${o?" active":""}>
`},closeRender:()=>`</CodeGroupItem>
`})},St=[/^\/\/ ?#?((?:end)?region) ([\w*-]+)$/,/^\/\* ?#((?:end)?region) ([\w*-]+) ?\*\/$/,/^#pragma ((?:end)?region) ([\w*-]+)$/,/^<!-- #?((?:end)?region) ([\w*-]+) -->$/,/^#((?:End )Region) ([\w*-]+)$/,/^::#((?:end)region) ([\w*-]+)$/,/^# ?((?:end)?region) ([\w*-]+)$/],Rt=/^@include\(([^)]+(?:\.[a-z0-9]+))(?:#([\w-]+))?(?:\{(\d+)?-(\d+)?\})?\)$/,Et=n=>{const e=n.split(`
`),r=e.reduce((t,o)=>{for(let a=0;a<o.length;a++)if(o[a]!==" "&&o[a]!=="	")return Math.min(a,t);return t},1/0);return r<1/0?e.map(t=>t.slice(r)).join(`
`):n},Se=(n,e,r,t=!1)=>{const[o,a,s]=e.exec(n.trim())||[];return!!(o&&a&&s===r&&a.match(t?/^[Ee]nd ?[rR]egion$/:/^[rR]egion$/))},Dt=(n,e)=>{let r=null,t=-1;for(const[o,a]of n.entries())if(r===null){for(const s of St)if(Se(a,s,e)){t=o+1,r=s;break}}else if(Se(a,r,e,!0))return{lineStart:t,lineEnd:o};return null},Mt=(n,{cwd:e,includedFiles:r,resolvedPath:t})=>{const{filePath:o}=n;let a=o;if(!j.isAbsolute(o)){if(!e)return console.error(`[include]: Error when resolving path: ${o}`),`
Error when resolving path
`;a=j.resolve(e,o)}if(r.push(a),!K.existsSync(a))return console.error(`Include: ${a} not found`),`
File not found
`;const s=K.readFileSync(a).toString().replace(dt,`
`).split(`
`);let i=[];if("region"in n){const l=Dt(s,n.region);l&&(i=s.slice(l.lineStart,l.lineEnd))}else{const{lineStart:l,lineEnd:g}=n;i=s.slice(l&&l-1,g)}if(t&&a.endsWith(".md")){const l=j.dirname(a);i.unshift(`@include-push(${l})`),i.push("@include-pop()")}return Et(i.join(`
`).replace(/\n?$/,`
`))},Re=(n,e,{currentPath:r,cwd:t,includedFiles:o})=>n.split(`
`).map(a=>{if(a.startsWith("@include")){const s=a.match(Rt);if(s){console.warn(`"@include(file)" is deprecated, you should use "<!-- @include: file -->" instead.${r?`
 Found in ${r}.`:""}`);const[,i,l,g,d]=s,c=e.resolvePath(i,t),b=e.resolveImagePath||e.resolveLinkPath,u=Mt({filePath:c,...l?{region:l}:{lineStart:g?Number(g):0,lineEnd:d?Number(d):void 0}},{cwd:t,includedFiles:o,resolvedPath:b});return e.deep&&c.endsWith(".md")?Re(u,e,{cwd:j.isAbsolute(c)?j.dirname(c):t?j.resolve(t,j.dirname(c)):null,currentPath:r??"",includedFiles:o}):u}}return a}).join(`
`),_t=n=>e=>{const r=e.env,t=r.includedFiles||(r.includedFiles=[]),o=n.currentPath(r);e.src=Re(e.src,n,{cwd:o?j.dirname(o):null,currentPath:o,includedFiles:t})},Tt=(n,e)=>{const{currentPath:r,resolvePath:t=i=>i,deep:o=!1,resolveLinkPath:a=!0,resolveImagePath:s=!0}=e||{};if(typeof r!="function")return console.error('[include]: "currentPath" is required');n.core.ruler.after("normalize","md_legacy_import",_t({currentPath:r,resolvePath:t,deep:o,resolveLinkPath:a,resolveImagePath:s}))},Nt=n=>{oe(n,{name:"flowchart",open:"flowstart",close:"flowend",render:(e,r)=>{console.warn('"@flowstart ... @flowend" is deprecated, you should use ```flow ... ``` instead.');const t=e[r],o=`flowchart-${r}`,{content:a,info:s}=t;return`<FlowChart id="${o}" code="${w(a)}" preset="${s.trim()||"vue"}"></FlowChart>`}})},Ee=mt(import.meta.url),At=async(n,e,r=!0)=>{const t=[],o=[],a=(s,i=!1)=>s in e?!!e[s]:i&&"gfm"in e&&e.gfm||!1;return a("chart")&&(t.push(`import ChartJS from "${$}components/ChartJS.js";`),o.push('app.component("ChartJS", ChartJS)')),a("codetabs")&&(t.push(`import CodeTabs from "${$}components/CodeTabs.js";`),o.push('app.component("CodeTabs", CodeTabs);'),r&&(t.push(`import { hasGlobalComponent } from "${j.resolve(Ee.resolve("vuepress-shared/client"))}";`,`import { CodeGroup, CodeGroupItem } from "${$}compact/index.js";`),o.push('if(!hasGlobalComponent("CodeGroup", app)) app.component("CodeGroup", CodeGroup);','if(!hasGlobalComponent("CodeGroupItem", app)) app.component("CodeGroupItem", CodeGroupItem);'))),a("container")&&t.push(`import "${$}styles/container/index.scss";`),a("demo")&&(t.push(`import CodeDemo from "${$}components/CodeDemo.js";`),o.push('app.component("CodeDemo", CodeDemo);')),a("echarts")&&(t.push(`import ECharts from "${$}components/ECharts.js";`),o.push('app.component("ECharts", ECharts);')),a("figure",!0)&&t.push(`import "${$}styles/figure.scss";`),a("flowchart")&&(t.push(`import FlowChart from "${$}components/FlowChart.js";`),o.push('app.component("FlowChart", FlowChart);')),a("footnote",!0)&&t.push(`import "${$}styles/footnote.scss";`),a("imgMark",!0)&&t.push(`import "${$}styles/image-mark.scss"`),a("mermaid")&&(t.push(`import Mermaid from "${$}components/Mermaid.js";`),o.push('app.component("Mermaid", Mermaid);')),a("presentation")&&(t.push(`import Presentation from "${$}components/Presentation.js";`),o.push('app.component("Presentation", Presentation);')),a("playground")&&(t.push(`import Playground from "${$}components/Playground.js";`),o.push('app.component("Playground", Playground);')),a("tabs")&&(t.push(`import Tabs from "${$}components/Tabs.js";`),o.push('app.component("Tabs", Tabs);')),a("tasklist",!0)&&t.push(`import "${$}styles/tasklist.scss";`),a("katex")&&t.push(`import "${j.resolve(Ee.resolve("katex/dist/katex.min.css"))}";`,`import "${$}styles/katex.scss";`),a("vuePlayground")&&(t.push('import { defineAsyncComponent } from "vue";'),o.push(`app.component("VuePlayground", defineAsyncComponent(() => import("${$}components/VuePlayground.js")));
    `)),a("mathjax")&&t.push('import "./mathjax.css";'),n.writeTemp("md-enhance/config.js",`import { defineClientConfig } from "@vuepress/client";
${t.join(`
`)}

export default defineClientConfig({
  enhance: ({ app }) => {
${o.map(s=>`    ${s}`).join(`
`)}
  },
});
`)},Ft=`mjx-container {
  overflow-x: auto;
}
`,Lt=async(n,e)=>{await n.writeTemp("md-enhance/mathjax.css",`${e.outputStyle()}
${Ft}`)},Ut=async(n,e)=>{const r=["reveal","revealMarkdown",...e.map(t=>`reveal${t[0].toUpperCase()}${t.substring(1)}`)];await n.writeTemp("md-enhance/reveal.js",`import { ${r.join(", ")} } from "${$}reveal/index.js";

export const useReveal = () => [${r.map(t=>`${t}()`).join(", ")}];
`)},zt=(n={gfm:!0},e=!0)=>r=>{e&&xt(n),at(r,L,"2.0.0-beta.61"),r.env.isDebug&&D.info("Options:",n);const t=(p,y=!1)=>p in n?!!n[p]:y&&"gfm"in n&&n.gfm||!1,o=st({app:r,name:L,default:Oe,config:n.locales}),a=t("chart"),s=t("echarts"),i=t("flowchart"),l=t("footnote",!0),g=t("imgMark",!0),d=t("include"),c=t("tasklist",!0),b=t("mermaid"),u=t("presentation"),h=t("katex"),m=t("mathjax"),f=t("vuePlayground"),x=jt(r,n),M={macros:{"\\liiiint":"\\int\\!\\!\\!\\iiint","\\iiiint":"\\int\\!\\!\\!\\!\\iiint","\\idotsint":"\\int\\!\\cdots\\!\\int"},logger:(p,y,k,{filePathRelative:C})=>{p!=="newLineInDisplayMode"&&(p==="unicodeTextInMathMode"?D.warn(`Found unicode character ${k.text} inside tex${C?` in ${I.cyan(C)}`:""}. You should use ${I.magenta(`\\text{${k.text}}`)}`):D.warn(`${y}.${C?`
Found in ${I.cyan(C)}`:""}`))},...v(n.katex)?n.katex:{}},_=n.mathjax===!1?null:Ve(v(n.mathjax)?n.mathjax:{}),W=v(n.presentation)&&Qe(n.presentation.plugins)?n.presentation.plugins:[];tt(r,{id:"hope"});let B=!1;return{name:L,define:()=>({MARKDOWN_ENHANCE_DELAY:n.delay||800,CODE_DEMO_OPTIONS:{...ae,...v(n.demo)?n.demo:{}},MERMAID_OPTIONS:v(n.mermaid)?n.mermaid:{},REVEAL_CONFIG:v(n.presentation)&&v(n.presentation.revealConfig)?n.presentation.revealConfig:{},VUE_PLAYGROUND_OPTIONS:v(n.vuePlayground)?U({},J,n.vuePlayground):J}),alias:p=>({"@mermaid":p.env.isDev&&it()==="pnpm"&&Z(p)==="vite"?"mermaid/dist/mermaid.esm.min.mjs":"mermaid"}),extendsBundlerOptions:(p,y)=>{var k,C,N;if(Z(y)==="vite"){const O=(N=(C=(k=p.viteOptions)==null?void 0:k.build)==null?void 0:C.rollupOptions)==null?void 0:N.onwarn;lt(p,y,{build:{rollupOptions:{onwarn(q,De){q.message.includes("Use of eval")||O==null||O(q,De)}}}})}pt(p,y,["fflate","vuepress-shared"]),h&&M.output!=="html"?z(p,y,ee):m&&(z(p,y,/^mjx-/),_!=null&&_.documentOptions.enableAssistiveMml&&z(p,y,ee)),a&&(F(p,y,"chart.js/auto/auto.mjs"),E(p,y,"chart.js")),s&&(F(p,y,"echarts"),E(p,y,"echarts")),i&&(F(p,y,"flowchart.ts"),E(p,y,"flowchart.ts")),b&&(te(p,y,"mermaid"),E(p,y,"mermaid")),u&&(F(p,y,["reveal.js/dist/reveal.esm.js","reveal.js/plugin/markdown/markdown.esm.js",...W.map(O=>`reveal.js/plugin/${O}/${O}.esm.js`)]),E(p,y,"reveal.js")),f&&(te(p,y,"@vue/repl"),E(p,y,"@vue/repl"),ct(p,y,O=>{O.module.set("exprContextCritical",!1),O.module.set("unknownContextCritical",!1)}))},extendsMarkdown:p=>{if(t("gfm")&&(p.options.linkify=!0),t("attrs")&&p.use(_e,v(n.attrs)?n.attrs:{}),t("align")&&p.use(Me),t("container")&&p.use(fe,o),t("imgLazyload")&&p.use(Ae),t("figure")&&p.use(Te),g&&p.use(Fe,v(n.imgMark)?n.imgMark:{}),t("imgSize")&&p.use(Le),t("obsidianImgSize")&&p.use(Ue),t("sup")&&p.use(He),t("sub")&&p.use(qe),l&&p.use(Ne),t("mark")&&p.use(Je),c&&p.use(Ye,[v(n.tasklist)?n.tasklist:{}]),(t("vPre")||e)&&p.use(Pe),h?p.use(Ge,M):m&&(p.use(We,_),p.use(y=>{const k=y.render.bind(y);y.render=(C,N)=>{const O=k(C,N);return _.reset(),O}})),d&&(p.use(ze,{currentPath:y=>y.filePath,...v(n.include)?n.include:{}}),e&&p.use(Tt,{currentPath:y=>y.filePath})),t("stylize")&&p.use(Be,{config:n.stylize,localConfigGetter:y=>{var k;return((k=y.frontmatter)==null?void 0:k.stylize)||null}}),t("codetabs")&&(p.use(pe),e&&p.use(It)),t("tabs")&&p.use(je),i&&(p.use(ue),e&&p.use(Nt)),a&&p.use(re),s&&p.use(me),t("demo")&&(p.use(se),p.use(ie),p.use(le),e&&p.use(Ot)),b&&p.use(ye),u&&p.use(we),v(n.playground)){const{presets:y=[],config:k={}}=n.playground;y.forEach(C=>{C==="ts"?p.use(T,$e(k.ts||{})):C==="vue"?p.use(T,ke(k.vue||{})):v(C)&&p.use(T,C)})}f&&p.use(xe)},extendsPage:(p,y)=>{x&&B&&Ie(p,y),d&&p.deps.push(...p.markdownEnv.includedFiles)},onInitialized:p=>{B=!0,x&&p.pages.forEach(y=>Ie(y,p))},onPrepared:p=>Promise.all([m?Lt(p,_):Promise.resolve(),Ut(p,W)]).then(()=>{}),clientConfigFile:p=>At(p,n,e)}};export{ae as CODE_DEMO_DEFAULT_SETTING,J as DEFAULT_VUE_PLAYGROUND_OPTIONS,re as chart,pe as codeTabs,me as echarts,ue as flowchart,$e as getTSPlaygroundPreset,be as getURL,ke as getVuePlaygroundPreset,fe as hint,Oe as markdownEnhanceLocales,zt as mdEnhancePlugin,ye as mermaid,se as normalDemo,T as playground,we as presentation,le as reactDemo,je as tabs,Pe as vPre,ie as vueDemo,xe as vuePlayground};
//# sourceMappingURL=index.js.map
